placeholders:
  url: http://www.paulgraham.com/say.html

steps:
  - get
  - parallel:
      meta:
        - meta
        - eval: "x => merge(x[0], {'author': 'Paul Graham', 'publisher': 'paulgraham.com'})"
      title:
        - find: title
        - text
      html:
        - find: table[width] td[width]
        - remove:
            - img:nth-child(1)
            - table:nth-child(1)
        - html
        - eval: compose(replace(/<br>\n\s+<br>/g, '</p><p>'), replace(/(.*\n){3}$/g, ''), replace(/^(.*\n){3}/g, ''), head)
        # - chrome
