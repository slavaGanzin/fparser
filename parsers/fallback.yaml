steps:
  - get
  - parallel:
      cover:
        - find:
            - .post-cover
        - html

      html:
        - find:
            - '*[itemtype="https://schema.org/Article"]'
            - '*[itemprop="articleBody"]'
            - '*[data-test-id="ArticleBodyContent"]'
            - '*[data-elementor-type="single"]'
            - '*[data-field="content"]'
            - .serendipity_entry_body

            - .newsFull_body

            - .b-article
            - .main-content
            - .blog-content
            - .MainBlock
            - '#body'
            - '#home'
            - '#main'
            - '#post'
            - .post-content
            - .blog-postPage-content
            - '#fullarticle'
            - .c-split-main
            - '#block-system-main'
            - '#page_body'
            - '#l-content'
            - '#_tl_editor'
            - '#intelliTXT'
            - '#article-main'
            - '#story-body'
            - '#story'
            - '#adsense-target'
            - '#tbl_proxy_list'
            - '#ontheioViewTacking'
            - '#r_memo'
            - .blog-content-wrapper

            - .article--body
            - main article
            - main
            - '*[role="main"]'

            - article

            - '#content-anchor-inner'
            - '#mvp-content-main'
            - '#mvp-post-content'
            - '#mailchimp'
            - '#root'
            - '#__next'
            - '#articleBody'
            - '#article'
            - .page-main__inner
            - .entry-content
            - .storycontent
            - '#content'
            - .c-entry-content
            - .article__content__body
            - .storyBody
            - .post_content
            - .article-body
            - .body.markup
            - .f-text-block
            - .listNews
            - .site-container
            - .report-columns
            - .transcript
            - '*[data-piano-inline-content-wrapper]'
            - .gtm-story-text
            - .serendipity_entry_body
            - .uni-content
            - .post__text
            - .post-full__text
            - .post__body
            - .mdspost-text-container
            - .news-list__item
            - .innerBlock
            - .simple-body
            - .c-pageArticleLongform_content
            - .c-main
            - .newsHolderContainer
            - .mainWrapper
            - .main-post__body
            - .article-content
            - .post-content
            - .block_post
            - .news_inner
            - '#tdb-autoload-article'
            - .td-post-content
            - .post
            - .text_block
            - .page-block
            - .article__text
            - .article__content
            - .article-body-container
            - .blog-article__content
            - .body-content
            - .article-body-content
            - .article__container
            - .postbody
            - .publication-sticky-container
            - .figureTable
            - .js_post-content
            - .content-background
            - .content-wrapper
            - .content
            - .article-main-body
            - .article-container
            - .article-body
            - .article
            - .main
            - .c-post-content
            - .awr
            - .bodyContent
            - '#bodyContent'

            - body

        - remove:
            - script
            # - link[rel='noopener']
            - '*[aria-hidden]'
            - '*[data-ajax-update="#ymla-section"]'
            - '*[data-component="medusaContentRecommendation"]'
            - '*[data-component="newsletterSubscription"]'
            - '*[data-name="int_hidden"]'
            - '*[data-owner-ct="Article"]'
            - '*[data-share-medium]'
            - '*[data-video-player="container"]'
            - '*[data-widget_type="post-info.default"]'
            - '*[rel="category"]'
            - '*[rel="tag"]'
            - '*[rel="stylesheet"]'
            - '*[role="banner"]'
            - '*[role="complementary"]'
            - '*[style="display:none"]'
            - 'figure[data-recommend-id]'
            # - link[rel='noreferrer']
            # - '#header'
            # - .article-header
            # - .header
            # - a[rel='license']
            # - a[rel='nofollow']
            # - a[rel='sponsored']
            # - a[rel='ugc']
            # - br ?
            # - header
            # https://support.google.com/webmasters/answer/96569?hl=en
            # substack
            # substack end
            - .td-crumb-container

            - '#about'
            - '#ac-lre-player-ph'
            - '#after-page-mobile-recirc'
            - '#after-page-recirc'
            - '#after_disclaimer_placement'
            - '#amazon-bottom-widget'
            - '#article-byline'
            - '#article-footer-wrap'
            - '#article-social-head'
            - '#article-title'
            - '#article-type'
            - '#aside'
            - '#axdsense1'
            - '#blog-furtherreading'
            - '#breadcrumb'
            - '#breadcrumbs'
            - '#collection-module-bottom'
            - '#content-header'
            - '#cutid1-end'
            - '#desk'
            - '#disqus_thread'
            - '#disqus_thread_outdiv'
            - '#engadget-article-footer'
            - '#ez-toc-container'
            - '#follow_buttons'
            - '#footer'
            - '#gemini-right-rail-thumbnails'
            - '#gtx-trans'
            - '#intro'
            - '#latest-articles'
            - '#mc_embed_signup'
            - '#more-insights'
            - '#mvp-content-bot'
            - '#mvp-soc-mob-wrap'
            - '#nav'
            - '#navContainer'
            - '#newsletter-signup'
            - '#newslist'
            - '#post-notes'
            - '#post-sections'
            - '#secondary'
            - '#secondary'
            - '#sidebar'
            - '#sidebar-right'
            - '#single-header'
            - '#site_header'
            - '#social-footer'
            - '#socialBlockSlideStop_0'
            - '#social_btns'
            - '#stackCommerceDeals'
            - '#taboola-below-article-thumbnails'
            - '#topnav'
            - '#tpd-contextual-ad-c'
            - '#tso-wrapper'
            - '#under_material'
            - '#vuukle-emote'
            - '#youmaylike'
            - 'div.innerBlock ~ div'
            - .AFWDX
            - .Post-discuss
            - .aag-list
            - .about
            - .abstract-heading
            - .abstract-specs
            - .ad
            - .ad-container
            - .ad-disclaimer-container
            - .ad-inpage-video-top
            - .ad-mobile
            - .ad-mobile-dynamic
            - .ad-slot
            - .ad-tag
            - .ad-teads-outstream
            - .ad-unit
            - .ad-wrapper
            - .adContainerLeader2
            - .adContainerNewsLeadMid
            - .ad_wrapper
            - .admz
            - .ads
            - .ads_container
            - .adsbygoogle
            - .adsense_responsive_box
            - .adslot
            - .adunit
            - .advertinline
            - .alm-disqus
            - .ambcr-content
            - .ambcr-content-bottom
            - .amp-ad-wrapper
            - .ampforwp-last-modified-date
            - .article-after-content-widget-area
            - .article-body__suppl_content
            - .article-byline
            - .article-date
            - .article-disclosure
            - .article-footer
            - .article-header__topic
            - .article-heading
            - .article-heading
            - .article-hero
            - .article-nav
            - .article-refers
            - .article-social
            - .article-subheading
            - .article-title
            - .article-token--more-of
            - .article-type
            - .article__byline-wrapper
            - .article__category
            - .article__coments_btn
            - .article__content__head
            - .article__footer
            - .article__footer_additional
            - .article__info
            - .article__info_bottom__social
            - .article__special-theme
            - .article__title-wrapper
            - .article__topic
            - .article_head
            - .article_sponsored_content
            - .articles
            - .articles_viewall
            - .artl-atr
            - .aside
            - .at-a-glance
            - .at-below-post
            - .athena-button
            - .audio_listen_button
            - .auto-disclosure-wrap
            - .back-link
            - .banner
            - .banner-article-content
            - .bibblio-branding
            - .block_comments
            - .blog-furtherreading
            - .blog-tag
            - .bmc-button
            - .bmc-button
            - .breadcrumbs
            - .breadcrumbs
            - .breadcrumbs
            - .breadcrumbs-container
            - .breadcrumbs-list
            - .breadcrumbs-nav
            - .breadcrumbs-nav
            - .breadcrumbs-nav__list-wrapper
            - .breadcrumbs-nav__title
            - .btn--load-more
            - .button
            - .button-stack
            - .byline
            - .c-adSlot
            - .c-aside-embed
            - .c-bar
            - .c-compact-river
            - .c-entry-group-labels
            - .c-entry-hero
            - .c-entry-hero
            - .c-mmp__cpanel
            - .c-mmp__overlay
            - .c-post-contributor
            - .c-post-pubDate
            - .c-post-title
            - .c-post__date
            - .c-shortcodeNewsletter
            - .c-sidebar-wrap
            - .c-social-buttons
            - .cat-aud
            - .classify
            - .clever-ads
            - .cmts
            - .code-block
            - .comments_counter
            - .constrain-970
            - .content-header
            - .content-list-wrapper
            - .contentAd
            - .content__write-suggestion
            - .contentitem-graph-loading
            - .contentitem-infocard
            - .contentitem-linkblock
            - .corona-wrapper
            - .counter
            - .crunchify-social
            - .cta
            - .date
            - .date-info
            - .deck
            - .design-top-offset
            - .details
            - .divsplitter
            - .dont-miss
            - .download-gate-wide-container
            - .dsq-brlink
            - .dt-published
            - .eagle-widget
            - .egl-popup
            - .elementor-post-navigation
            - .end-note
            - .entry-content__post-date
            - .entry-date
            - .entry-post-navigation
            - .entry-title
            - .entry-utility
            - .essb_links
            - .estimate-time
            - .event-promo
            - .exchange-widget
            - .expand-lightbox-icon-holder
            - .expanded-coverage-module
            - .extra-header
            - .favorite_marker
            - .fbcomments
            - .feedback-display
            - .felix-collection
            - .filed
            - .fix
            - .flexslider__photo-slider
            - .floorad-wrapper
            - .fluid-width-video-wrapper
            - .follow_buttons
            - .font-sz
            - .footer
            - .footer-wrap
            - .full-bleed-ad
            - .full-post__categories
            - .hatom-extra
            - .header
            - .header_inner
            - .hero-sponsored-button
            - .hidden-lg
            - .hidden-md
            - .hidden-sm
            - .hidden-xs
            - .hide
            - .hs-cta-wrapper
            - .ica-wrapper
            - .int_hidden
            - .interior-page__footer
            - .io-article-footer
            - .journey-nav-wrapper
            - .js-disqus
            - .js-expanded-coverage-module
            - .js-load-disqus
            - .js_ad-dynamic
            - .js_ad-mobile-dynamic
            - .jwplayer-placeholder
            - .l-post__date
            - .latest_articles
            - .lazyload_ad
            - .learn-cta-row
            - .lede-container
            - .linkback
            - .lj-like
            - .ljsale
            - .main-post__social-footer
            - .media-block
            - .media-block-wrap
            - .media-download
            - .mediaReplacer
            - .menu-item
            - .menu-social-media-container
            - .met
            - .middle-banner
            - .mobile-sticky-container
            - .mobile_menu
            - .modal
            - .moove-post-shortcode-wrap
            - .more
            - .more-insights-item
            - .movable-ad
            - .multi-pagination
            - .mvp-cont-read-wrap
            - .mvp-content-bot
            - .mvp-org-wrap
            - .mvp-post-soc-wrap
            - .nav
            - .nav-single
            - .navContainer
            - .nav__social-media
            - .navigation
            - .newComments
            - .news-content-time
            - .newsDate
            - .newsPubdate
            - .newsPublisher
            - .newsTitle
            - .news_comments
            - .newsletter
            - .nextup
            - .nocontent
            - .o-wrap
            - .owl-carousel
            - .owl-item
            - .page-header > h1
            - .page-nav
            - .paragraphAdinsert
            - .paywall
            - .paywall-area
            - .photoreports
            - .piano-inline-promo
            - .pixel
            - .play-games
            - .playbuzz
            - .playerControls
            - .pop-up
            - .popup
            - .portable-archive
            - .post-actions
            - .post-article-read-next
            - .post-asset-promo
            - .post-cat-info
            - .post-content__publish-date
            - .post-content__topic-container
            - .post-date
            - .post-entries
            - .post-footer
            - .post-full-title
            - .post-info
            - .post-sections
            - .post-tag-container
            - .post-utility
            - .post__byline
            - .post__slug
            - .post__wrapper .default-block
            - .post__wrapper .for_users_only_msg
            - .post_avatar
            - .post_information
            - .post_social
            - .post_tag
            - .postnavigation
            - .posts-nav-link
            - .posttitle
            - .premium-footer-logo
            - .prevnext
            - .print-email-buttons
            - .publication-social
            - .pull-none
            - .r-box
            - .read
            - .read_on_theme
            - .recipe-more
            - .referral_widget
            - .rft
            - .saboxplugin-wrap
            - .secondary
            - .secondary-column
            - .serendipity_date
            - .sharify
            - .sharify-container
            - .shortcode
            - .shortcodeGalleryWrapper
            - .side-float
            - .side-float
            - .side-float
            - .sidebar
            - .sidebar-content
            - .silic-after-content
            - .single-header
            - .single-post-ad
            - .single-post-navigation
            - .single-post-newsletter
            - .single-post-sharing-button-list
            - .single-post-simple-header
            - .single-post-social-icons
            - .single_article_header
            - .single_title
            - .site_header
            - .slide-in-wg
            - .snippet_container
            - .social
            - .social
            - .social-column
            - .social-icons
            - .social-links
            - .social-list
            - .social-row
            - .social-side
            - .social_btns
            - .socialbar
            - .sponsored
            - .sponsored-links
            - .square
            - .ss-social-sharing
            - .ssba #Simple Share Buttons Adder (7.6.21) simplesharebuttons.com
            - .stackcommerce
            - .stackcommerce__container
            - .stackcommerce__container
            - .stackcommerce__container--article
            - .staff
            - .stickyColumn
            - .story-advertisement
            - .subDrive
            - .suspended
            - .switch_container
            - .swp_social_panel
            - .t-rating-small
            - .table-of-contents
            - .taboola-container
            - .tagcloud
            - .taxonomy
            - .td-a-rec
            - .td-post-sharing
            - .td-social-list
            - .td_mod_wrap
            - .tdb-next-post
            - .tdb_breadcrumbs
            - .tdm_block_button
            - .teads-adCall
            - .telegram-userpromo
            - .textwidget
            - .themezee-social-sharing
            - .thread__container
            - .time-rubric
            - .time-rubric
            - .timestamp
            - .title
            - .title-group
            - .top-media-content
            - .top-news-info
            - .topnav
            - .trending-block
            - .trp-thumb-listing
            - .u-desktop-only
            - .uk-grid-match
            - .unit_article-banner
            - .version
            - .viral-next-up
            - .visual-title-banner
            - .vuukle-powerbar
            - .webring
            - .widget-area
            - .widgets-wrapper
            - .wp-block-columns
            - .wp-block-jetpack-mailchimp
            - .wpcnt
            - .wrapper_for_opinion
            - .writer
            - .wtr-time-wrap
            - .ymla-section
            - .yoast-seo-breadcrumb
            - .zerg-widgets
            - aside
            - div[data-shortcode]
            - footer
            - footer
            - form
            - hr
            - link
            - nav
            - navigation
            # - noscript
            - ol[data-scp="breadcrumb"]
            - side
            - style
            - time
            - ul.post__hubs
            - .cta-section
            - .page-footer
            - .Pagination
            - .pagination
            - '#pagination'
            - .blog-pager
            - .date-header
            - .quickedit
            - .promo
            - header h1
            - header h2
            - .post_date
            - .rate
            - .ads_inline_640
            - .loader
            - .article__breadcrumbs
            - .article__title
            - .module-sharing-actions
            - .module-topic
            - '#articleHeader'
            - .articleHeader
            - '#dpsp-content-top'
            - .a2a_kit
            - .post-excerpt
            - .sharingTools
            - .mostReadModule
            - .bulletinModule
            - .jusPublishedModule
            - .links
            - '#slidebox'
            - .slidebox
            - .icons
            - '#respond'
            - '#featured'
            - .featured
            - .toggler
            - '#sidebar'
            - aside
            - .pptwj
            - .adex-post-ad
            - .newsTypeName
            - .sidebar-column
            - .fly-sidebar-column
            - .bottom-article-links-bar
            - .article-socials
            - .copy-url
            - .upper-title
            - .explore-module
            - .top-stories-module
            - .article-info
            - .aw-connatix-module
            - .section__kickerlabel
            - .issue-section-wrap
            - .mgs-post-sharing
            - .printfriendly
            - .toc
            - .article-sources
            - .masonry-section
            - '#height-change-listener'
            - .Blog-header
            - .BlogItem-profile
            - .articleAd
            - .static-social
            - '#vs-breadcrumbs'
            - .postbyline
            - .browsemore
            - .postsec
            - '#more_list'
            - .article__contributor-byline-wrapper
            - .pubmod-date
            - .dpsp-pin-it-wrapper
            - .post-single__date
            - a[href="#comments"]
            - .article-preview-list
            - '#next'

            - /\balso\b|read.after/
            - /comment/
            - /share|sharing|social/
            - /relate/
            - /author/
            - /subscribe/
            - /\bcategory\b|\bcategories\b/
            # - /\blabels?\b/
            - /headline/
            - /\smeta\s/
            - /popular|recommend/
            - /\stag\s|\stags\s/
            - /related|recent/
            - /mistake/
            - /post-date/


        #     - .single-content-banner
        - eval: head
        - html
      meta:
        - meta

  - eval: map(unless(x => contains(x.cover, x.html), x => { x.html = x.cover + x.html; return x }))
