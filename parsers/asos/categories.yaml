db:
  provider: file

placeholders:
  url: http://www.asos.com
  
steps:
  - get:
      url: $url
      
  # - find: a
  # - attr: href
  # - filter:
  #   - \/cat\/
  # - reject:
  #   - tall
  #   - a-list
  #   - fashion-online
  #   - brands
  #   - new-in
  #   - gifts
  #   - maternity
  #   - designer
  #   - packs
  #   - exclusives
  #   - shop
  #   - marketplace
  #   - plus-size
  
  # - get
  # - find: .cats
  # - attr: href
  # - get
  - find: .product.product-link .product-img
  - attr: src
  # - parallel:
      # image:
  # - attr: src
  # - get
      # category:
      #   - root
      #   - find: .content h1
      #   - text
      #   - replace:
      #       - /(Wo)?men's/i
      #       - /\n/g
      #       - /\s+/gi
  #     href:
  #       - attr: href
        
  # - db:
  #     key: /tmp/test/$category
      
        
      # next:
      #   - find: .next a
      #   - attr: href
      #
      #   - tap:
      #       name: parsers/asos.yaml
      #       placeholders:
      #         $url: $1
